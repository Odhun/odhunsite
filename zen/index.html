<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Odhun Zen | Odaklanma</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 rx=%2220%22 fill=%22%23000000%22/><text x=%2250%25%22 y=%2255%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 font-family=%22Arial%22 font-weight=%22900%22 font-size=%2240%22 fill=%22%23ffffff%22>O<tspan fill=%22%2300e5ff%22>Z</tspan></text></svg>">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">

<style>
    :root {
        --bg: #050505;
        --card-bg: #121212;
        --accent: #00e5ff; /* Zen Mavisi */
        --accent-dim: rgba(0, 229, 255, 0.1);
        --text: #ffffff;
        --text-dim: #888;
        --border: #222;
    }

    * { box-sizing: border-box; }

    body {
        margin: 0; padding: 0; background: var(--bg); color: var(--text);
        font-family: 'Inter', sans-serif; height: 100vh; display: flex; overflow: hidden;
    }

    /* SIDEBAR */
    .sidebar {
        width: 250px; background: #0a0a0a; border-right: 1px solid var(--border);
        display: flex; flex-direction: column; flex-shrink: 0; z-index: 100;
        transition: transform 0.3s ease;
    }

    .logo-area {
        height: 70px; display: flex; align-items: center; padding: 0 25px;
        font-size: 1.5rem; font-weight: 800; letter-spacing: -1px;
        border-bottom: 1px solid var(--border);
    }
    .logo-area span { color: var(--accent); margin-left: 2px; }

    .menu-list { padding: 20px; }
    .menu-item {
        display: flex; align-items: center; gap: 10px; padding: 12px 15px;
        color: var(--text-dim); text-decoration: none; font-weight: 500;
        border-radius: 8px; margin-bottom: 5px; transition: 0.2s; cursor: pointer;
    }
    .menu-item:hover, .menu-item.active { background: var(--accent-dim); color: var(--accent); }
    .menu-item.active { border-left: 3px solid var(--accent); }

    /* MAIN CONTENT */
    .main-content {
        flex: 1; display: flex; flex-direction: column; height: 100%; 
        overflow-y: auto; position: relative;
    }

    /* HEADER (TIMER AREA) */
    .timer-header {
        height: 280px; background: radial-gradient(circle at center, #101a1c 0%, #050505 100%);
        display: flex; flex-direction: column; align-items: center; justify-content: center;
        border-bottom: 1px solid var(--border); flex-shrink: 0; position: relative;
    }

    .timer-display {
        font-size: 6rem; font-weight: 200; letter-spacing: 5px; font-variant-numeric: tabular-nums;
        text-shadow: 0 0 20px rgba(0, 229, 255, 0.2); margin: 10px 0;
    }
    
    .timer-controls { display: flex; gap: 15px; }
    
    .btn-timer {
        background: transparent; border: 1px solid var(--accent); color: var(--accent);
        padding: 10px 30px; border-radius: 30px; font-weight: 600; cursor: pointer;
        transition: 0.2s; display: flex; align-items: center; gap: 8px; font-size: 1rem;
    }
    .btn-timer:hover { background: var(--accent); color: #000; box-shadow: 0 0 15px var(--accent-dim); }
    .btn-timer.secondary { border-color: var(--text-dim); color: var(--text-dim); }
    .btn-timer.secondary:hover { border-color: #fff; color: #fff; background: transparent; }

    .timer-modes {
        position: absolute; top: 20px; right: 20px; display: flex; gap: 10px;
    }
    .mode-btn {
        background: rgba(255,255,255,0.05); border: 1px solid var(--border); color: #aaa;
        padding: 6px 12px; border-radius: 6px; cursor: pointer; font-size: 0.8rem; transition: 0.2s;
    }
    .mode-btn:hover { color: #fff; border-color: #555; }
    .mode-btn.active { background: var(--accent); color: #000; border-color: var(--accent); font-weight: bold; }

    /* SOUND GRID */
    .sound-grid {
        padding: 30px;
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
        gap: 20px;
        padding-bottom: 100px;
    }

    .sound-card {
        background: var(--card-bg); border: 1px solid var(--border);
        border-radius: 16px; padding: 25px 20px; text-align: center;
        transition: all 0.2s; cursor: pointer; position: relative; overflow: hidden;
    }
    .sound-card:hover { transform: translateY(-3px); border-color: #444; }
    
    .sound-card.active { 
        border-color: var(--accent); background: rgba(0, 229, 255, 0.03);
        box-shadow: 0 0 20px rgba(0, 229, 255, 0.05);
    }

    .sound-icon {
        font-size: 2.5rem; color: var(--text-dim); margin-bottom: 15px; transition: 0.3s;
    }
    .sound-card.active .sound-icon { color: var(--accent); transform: scale(1.1); text-shadow: 0 0 10px var(--accent); }

    .sound-name { font-weight: 600; font-size: 1rem; margin-bottom: 10px; color: #ddd; }

    /* Volume Slider (Gizli başlar, aktifken açılır) */
    .volume-wrap {
        height: 0; overflow: hidden; transition: height 0.3s; opacity: 0;
        display: flex; align-items: center; justify-content: center;
    }
    .sound-card.active .volume-wrap { height: 20px; opacity: 1; margin-top: 15px; }
    
    input[type=range] {
        width: 80%; accent-color: var(--accent); height: 4px; cursor: pointer;
    }

    /* MOBİL MENÜ BUTONU */
    .mobile-toggle { 
        display: none; position: absolute; top: 20px; left: 20px; 
        background: transparent; border: none; color: white; font-size: 1.5rem; cursor: pointer;
        z-index: 500;
    }
    .mobile-close { display: none; cursor: pointer; font-size: 1.2rem; color: #fff; margin-left: auto; }

    /* FOOTER */
    footer {
        position: absolute; bottom: 0; width: 100%; background: #0a0a0a;
        padding: 15px; text-align: center; font-size: 0.8rem; color: #555;
        border-top: 1px solid var(--border);
    }

    @media (max-width: 768px) {
        .sidebar { position: fixed; left: -100%; height: 100%; width: 80%; box-shadow: 10px 0 30px rgba(0,0,0,0.5); }
        .sidebar.active { left: 0; }
        .mobile-toggle { display: block; }
        .mobile-close { display: block; }
        .timer-display { font-size: 4rem; }
        .sound-grid { grid-template-columns: repeat(2, 1fr); padding: 15px; gap: 15px; }
        .timer-header { height: auto; padding: 80px 20px 40px 20px; }
        .timer-modes { top: 20px; right: auto; width: 100%; justify-content: center; }
    }
</style>
</head>
<body>

    <button class="mobile-toggle" onclick="toggleSidebar()"><i class="fas fa-bars"></i></button>

    <div class="sidebar" id="sidebar">
        <div class="logo-area">
            ODHUN<span>ZEN</span>
            <div class="mobile-close" onclick="toggleSidebar()"><i class="fas fa-times"></i></div>
        </div>
        <div class="menu-list">
            <div class="menu-item active"><i class="fas fa-sliders-h"></i> Mikser</div>
            <div class="menu-item" onclick="stopAllSounds()"><i class="fas fa-power-off"></i> Her Şeyi Durdur</div>
        </div>
        <div style="margin-top: auto; padding: 20px; color: #444; font-size: 0.75rem; line-height: 1.5;">
            Odaklan. Rahatla. Üret.<br>Odhun.com © 2025
        </div>
    </div>

    <div class="main-content">
        
        <div class="timer-header">
            <div class="timer-modes">
                <div class="mode-btn active" onclick="setMode(25, this)">Pomodoro</div>
                <div class="mode-btn" onclick="setMode(5, this)">Kısa Mola</div>
                <div class="mode-btn" onclick="setMode(15, this)">Uzun Mola</div>
            </div>
            <div class="timer-display" id="timerDisplay">25:00</div>
            <div class="timer-controls">
                <button class="btn-timer" onclick="toggleTimer()" id="timerBtn"><i class="fas fa-play"></i> Başlat</button>
                <button class="btn-timer secondary" onclick="resetTimer()"><i class="fas fa-redo"></i></button>
            </div>
        </div>

        <div class="sound-grid" id="soundGrid">
            </div>

        <footer>
            Odhun.com © 2025 | Sesler Google Sounds Collection altyapısıyla sağlanmaktadır.
        </footer>

    </div>

    <script>
        // --- GÜVENLİ GOOGLE SES LİSTESİ ---
        // Bu linkler Google'ın resmi Actions on Google CDN'idir ve asla bozulmaz.
        const sounds = [
            { id: 'rain', name: 'Yağmur', icon: 'fa-cloud-rain', url: 'https://actions.google.com/sounds/v1/weather/rain_heavy_loud.ogg' },
            { id: 'thunder', name: 'Fırtına', icon: 'fa-bolt', url: 'https://actions.google.com/sounds/v1/weather/thunderstorm.ogg' },
            { id: 'fire', name: 'Kamp Ateşi', icon: 'fa-fire', url: 'https://actions.google.com/sounds/v1/ambiences/fire.ogg' },
            { id: 'wind', name: 'Rüzgar', icon: 'fa-wind', url: 'https://actions.google.com/sounds/v1/weather/wind_blowing.ogg' },
            { id: 'night', name: 'Gece', icon: 'fa-moon', url: 'https://actions.google.com/sounds/v1/nature/crickets_at_night.ogg' },
            { id: 'birds', name: 'Orman & Kuş', icon: 'fa-dove', url: 'https://actions.google.com/sounds/v1/animals/birds_forest.ogg' }, // Düzeltildi
            { id: 'river', name: 'Dere Sesi', icon: 'fa-water', url: 'https://actions.google.com/sounds/v1/nature/river_small_flow.ogg' }, // Düzeltildi
            { id: 'coffee', name: 'Kafe Ortamı', icon: 'fa-coffee', url: 'https://actions.google.com/sounds/v1/ambiences/coffee_shop.ogg' },
            { id: 'white', name: 'Beyaz Gürültü', icon: 'fa-snowflake', url: 'https://actions.google.com/sounds/v1/ambiences/airplane_cabin.ogg' },
            { id: 'train', name: 'Tren', icon: 'fa-subway', url: 'https://actions.google.com/sounds/v1/transportation/train_heavy_rain.ogg' }
        ];

        const audioElements = {};
        const grid = document.getElementById('soundGrid');

        document.addEventListener('DOMContentLoaded', () => {
            initApp();
        });

        function initApp() {
            grid.innerHTML = "";
            
            sounds.forEach(sound => {
                // Audio Objesi
                const audio = new Audio(sound.url);
                audio.loop = true;
                audio.preload = 'none'; // Performans için
                audioElements[sound.id] = audio;

                // Kart Oluştur
                const card = document.createElement('div');
                card.className = 'sound-card';
                card.id = `card-${sound.id}`;
                
                card.innerHTML = `
                    <i class="sound-icon fas ${sound.icon}"></i>
                    <div class="sound-name">${sound.name}</div>
                    <div class="volume-wrap" onclick="event.stopPropagation()">
                        <input type="range" min="0" max="1" step="0.1" value="0.5" oninput="setVolume('${sound.id}', this.value)">
                    </div>
                `;

                card.onclick = (e) => {
                    if (e.target.tagName === 'INPUT') return;
                    toggleSound(sound.id);
                };

                grid.appendChild(card);
            });
        }

        function toggleSound(id) {
            const audio = audioElements[id];
            const card = document.getElementById(`card-${id}`);

            if (!audio) return;

            if (audio.paused) {
                audio.play().catch(e => {
                    console.error(e);
                    alert("Tarayıcı ses oynatmayı engelledi. Lütfen sayfaya bir kez tıklayın.");
                });
                card.classList.add('active');
            } else {
                audio.pause();
                card.classList.remove('active');
            }
        }

        function setVolume(id, val) {
            if (audioElements[id]) {
                audioElements[id].volume = val;
            }
        }

        function stopAllSounds() {
            for (const id in audioElements) {
                audioElements[id].pause();
                audioElements[id].currentTime = 0;
                const card = document.getElementById(`card-${id}`);
                if(card) card.classList.remove('active');
            }
            if (window.innerWidth < 768) toggleSidebar();
        }

        // --- TIMER ---
        let timerInterval;
        let timeLeft = 25 * 60;
        let isTimerRunning = false;
        const display = document.getElementById('timerDisplay');
        const timerBtn = document.getElementById('timerBtn');

        function updateDisplay() {
            const m = Math.floor(timeLeft / 60).toString().padStart(2, '0');
            const s = (timeLeft % 60).toString().padStart(2, '0');
            display.innerText = `${m}:${s}`;
            document.title = `(${m}:${s}) Odhun Zen`;
        }

        function toggleTimer() {
            if (isTimerRunning) {
                clearInterval(timerInterval);
                isTimerRunning = false;
                timerBtn.innerHTML = '<i class="fas fa-play"></i> Başlat';
            } else {
                isTimerRunning = true;
                timerBtn.innerHTML = '<i class="fas fa-pause"></i> Duraklat';
                timerInterval = setInterval(() => {
                    if (timeLeft > 0) {
                        timeLeft--;
                        updateDisplay();
                    } else {
                        clearInterval(timerInterval);
                        isTimerRunning = false;
                        timerBtn.innerHTML = '<i class="fas fa-play"></i> Başlat';
                        try { new Audio('https://actions.google.com/sounds/v1/alarms/beep_short.ogg').play(); } catch(e){}
                        alert("Süre Doldu!");
                    }
                }, 1000);
            }
        }

        function resetTimer() {
            clearInterval(timerInterval);
            isTimerRunning = false;
            timerBtn.innerHTML = '<i class="fas fa-play"></i> Başlat';
            
            const activeMode = document.querySelector('.mode-btn.active');
            let min = 25;
            if(activeMode) {
                const txt = activeMode.innerText;
                if(txt.includes('Kısa')) min = 5;
                else if(txt.includes('Uzun')) min = 15;
            }
            
            timeLeft = min * 60;
            updateDisplay();
        }

        function setMode(minutes, btn) {
            document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            resetTimer();
            timeLeft = minutes * 60;
            updateDisplay();
        }

        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('active');
        }
    </script>

</body>
</html>
