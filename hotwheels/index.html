<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>Odhun Wheels | Koleksiyon Takip</title>
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 rx=%2250%22 fill=%22%230057b8%22/><text x=%2250%25%22 y=%2255%25%22 dominant-baseline=%22middle%22 text-anchor=%22middle%22 font-family=%22Arial%22 font-weight=%22900%22 font-size=%2250%22 fill=%22%23ffc107%22>H</text></svg>">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Russo+One&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

<style>
    :root {
        --hw-blue: #0057b8;
        --hw-orange: #ff6200;
        --hw-yellow: #ffc107;
        --bg: #111;
        --card-bg: #1e1e1e;
        --text: #fff;
        --text-dim: #aaa;
    }

    * { box-sizing: border-box; }

    body {
        margin: 0; padding: 0; background-color: var(--bg); color: var(--text);
        font-family: 'Roboto', sans-serif; min-height: 100vh; display: flex; flex-direction: column;
    }

    /* HEADER */
    header {
        background: linear-gradient(135deg, #003060, var(--hw-blue));
        padding: 20px; text-align: center; border-bottom: 5px solid var(--hw-orange);
        position: sticky; top: 0; z-index: 100; box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    }

    .brand {
        font-family: 'Russo One', sans-serif; font-size: 2.2rem; color: #fff;
        text-shadow: 2px 2px 0px var(--hw-orange); font-style: italic; letter-spacing: 1px;
    }
    .brand span { color: var(--hw-yellow); }

    /* KONTROLLER */
    .controls {
        padding: 20px; max-width: 1200px; margin: 0 auto; width: 100%;
        display: flex; flex-direction: column; gap: 15px;
    }

    .control-row { display: flex; gap: 10px; flex-wrap: wrap; justify-content: center; }

    .year-tabs { display: flex; background: #222; border-radius: 8px; padding: 5px; overflow-x: auto; }
    .year-tab {
        padding: 10px 20px; cursor: pointer; border-radius: 6px; color: #aaa; font-weight: bold;
        transition: 0.2s; white-space: nowrap;
    }
    .year-tab:hover { color: #fff; background: rgba(255,255,255,0.05); }
    .year-tab.active { background: var(--hw-blue); color: #fff; box-shadow: 0 2px 10px rgba(0,87,184,0.4); }

    .search-box { position: relative; flex: 1; min-width: 250px; }
    .search-box input {
        width: 100%; padding: 12px 40px 12px 15px; border-radius: 8px; border: 1px solid #333;
        background: #222; color: #fff; font-size: 1rem; outline: none;
    }
    .search-box i { position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: #666; }

    .filter-btn {
        padding: 10px 20px; border-radius: 8px; border: 1px solid #333;
        background: #222; color: #aaa; cursor: pointer; font-weight: 600;
    }
    .filter-btn.active { background: var(--hw-orange); color: #fff; border-color: var(--hw-orange); }

    /* İSTATİSTİK */
    .stats-bar {
        background: #222; padding: 15px; border-radius: 12px; margin: 0 auto 20px; max-width: 1200px; width: 95%;
        display: flex; align-items: center; gap: 15px; border: 1px solid #333;
    }
    .progress-track { flex: 1; height: 10px; background: #000; border-radius: 5px; overflow: hidden; }
    .progress-fill { height: 100%; background: var(--hw-orange); width: 0%; transition: 0.5s; }
    .stats-text { font-size: 0.9rem; font-weight: bold; color: var(--hw-yellow); white-space: nowrap; }

    /* LISTE */
    .car-list {
        display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        gap: 15px; padding: 0 20px 80px; max-width: 1200px; margin: 0 auto; width: 100%;
    }

    .car-card {
        background: var(--card-bg); border-radius: 10px; overflow: hidden;
        position: relative; cursor: pointer; transition: 0.2s; border: 2px solid transparent;
    }
    .car-card:hover { transform: translateY(-3px); z-index: 5; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }

    /* Durumlar */
    .car-card.owned { border-color: var(--hw-blue); background: #0d1b2a; }
    .car-card.owned .car-img { opacity: 1; filter: none; }
    .car-card:not(.owned) .car-img { opacity: 0.6; filter: grayscale(100%); }
    
    .car-img-box {
        width: 100%; aspect-ratio: 16/9; background: #fff; display: flex; align-items: center; justify-content: center;
    }
    .car-img { width: 100%; height: 100%; object-fit: contain; transition: 0.3s; }

    .car-details { padding: 10px; }
    .car-num { font-size: 0.7rem; font-weight: 900; color: var(--hw-orange); display: flex; justify-content: space-between; }
    .car-title { font-size: 0.9rem; font-weight: 700; margin: 4px 0; line-height: 1.2; height: 2.4em; overflow: hidden; }
    .car-series { font-size: 0.7rem; color: #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

    .status-badge {
        font-size: 0.65rem; padding: 2px 6px; border-radius: 4px; background: #333; color: #aaa;
    }
    .car-card.owned .status-badge { background: var(--hw-blue); color: #fff; }

    /* Footer */
    footer {
        text-align: center; padding: 20px; font-size: 0.75rem; color: #444;
        border-top: 1px solid #222; margin-top: auto; background: #111;
    }

    @media (max-width: 600px) {
        .car-list { grid-template-columns: repeat(2, 1fr); gap: 10px; padding: 0 10px 80px; }
        .brand { font-size: 1.8rem; }
    }
</style>
</head>
<body>

    <header>
        <div class="brand">ODHUN <span>WHEELS</span></div>
    </header>

    <div class="controls">
        <div class="year-tabs">
            <div class="year-tab" onclick="setYear('2026')">2026</div>
            <div class="year-tab active" onclick="setYear('2025')">2025</div>
            <div class="year-tab" onclick="setYear('2024')">2024</div>
            <div class="year-tab" onclick="setYear('2023')">2023</div>
        </div>

        <div class="control-row">
            <div class="search-box">
                <input type="text" id="search" placeholder="Model veya Numara Ara..." onkeyup="render()">
                <i class="fas fa-search"></i>
            </div>
            <div style="display:flex; gap:5px;">
                <button class="filter-btn active" onclick="setFilter('all', this)">Tümü</button>
                <button class="filter-btn" onclick="setFilter('owned', this)">Var</button>
                <button class="filter-btn" onclick="setFilter('missing', this)">Yok</button>
            </div>
        </div>
    </div>

    <div class="stats-bar">
        <div class="progress-track"><div class="progress-fill" id="pBar"></div></div>
        <div class="stats-text" id="pText">0/250</div>
    </div>

    <div class="car-list" id="list"></div>

    <footer>Odhun.com © 2025 | Kişisel Koleksiyon Takip Sistemi</footer>

    <script>
        // --- DEVASA VERİ TABANI (Örnekler) ---
        // Buraya 1000 aracı eklemek kodu çok uzatır. 
        // En popülerlerini ekledim, mantığı anlaman için yeterli.
        const db = {
            "2026": [
                { n: "1", t: "Gordon Murray T.33", s: "Exoticars", i: "https://static.wikia.nocookie.net/hotwheels/images/a/a5/Gordon_Murray_Automotive_T.33_%28%2726_Mainline%29.jpg" },
                { n: "2", t: "Batmobile (The Batman)", s: "Batman", i: "https://static.wikia.nocookie.net/hotwheels/images/8/84/The_Batman_Batmobile_%28%2726_Mainline%29.jpg" },
                { n: "3", t: "Pass 'N Gasser", s: "Drop Tops", i: "" },
                { n: "4", t: "Solar Reflex", s: "HW EV", i: "" },
                { n: "5", t: "Ford Mustang Mach-E 1400", s: "HW EV", i: "" },
                { n: "6", t: "RD-06", s: "X-Raycers", i: "" },
                { n: "9", t: "'87 Buick Regal GNX", s: "Night Speed (TH)", i: "" },
                { n: "15", t: "Porsche 911 Carrera T", s: "Factory Fresh", i: "" },
                { n: "16", t: "Maserati Shamal", s: "Factory Fresh", i: "" },
                { n: "142", t: "McLaren W1", s: "Race Day", i: "" }
            ],
            "2025": [
                { n: "1", t: "Kei Swap", s: "HW Art Cars", i: "https://static.wikia.nocookie.net/hotwheels/images/8/8a/Kei_Swap_%28%2725_Mainline%29.jpg" },
                { n: "2", t: "Super Twin Mill", s: "HW Let's Race", i: "" },
                { n: "3", t: "Morgan Super 3", s: "Factory Fresh", i: "" },
                { n: "4", t: "Mazda MX-5 Miata", s: "HW Dream Garage", i: "" },
                { n: "5", t: "Ford Mustang GTD", s: "Mustang 60th", i: "" },
                { n: "6", t: "'66 Buick Riviera", s: "HW Modified", i: "" },
                { n: "7", t: "Maserati Shamal", s: "HW Metro", i: "" },
                { n: "8", t: "Tesla Cyberquad", s: "HW Dirt", i: "" },
                { n: "9", t: "McLaren W1", s: "HW Race Day", i: "" },
                { n: "10", t: "Optimus Prime", s: "Screen Time", i: "" },
                { n: "11", t: "Honda Civic Si", s: "J-Imports", i: "" },
                { n: "12", t: "Nissan Skyline GT-R", s: "J-Imports", i: "" },
                { n: "15", t: "Porsche 911 Rallye", s: "HW Dirt", i: "" },
                { n: "26", t: "Nissan Skyline 2000GT-R LBWK", s: "J-Imports", i: "" },
                { n: "82", t: "Tesla Cyberquad", s: "HW Dirt", i: "" },
                { n: "143", t: "Birthday Burner", s: "HW Celebration", i: "" },
                { n: "166", t: "Disney Steamboat", s: "Screen Time", i: "" },
                { n: "209", t: "McLaren Speedtail", s: "Exotics", i: "" },
                { n: "250", t: "Volvo 240 Drift", s: "Drift", i: "" }
            ],
            "2024": [
                { n: "1", t: "Mazda Autozam", s: "Dream Garage", i: "https://static.wikia.nocookie.net/hotwheels/images/4/43/Mazda_Autozam_AZ-1_%28%2724_Mainline%29.jpg" },
                { n: "2", t: "Batmobile", s: "Batman", i: "" },
                { n: "3", t: "Monster High Ghoul Mobile", s: "Screen Time", i: "" },
                { n: "7", t: "Proton Saga", s: "Compact Kings", i: "" },
                { n: "11", t: "Nissan Skyline GT-R (R33)", s: "J-Imports", i: "" },
                { n: "15", t: "Tesla Model Y", s: "HW Green Speed", i: "" },
                { n: "20", t: "Nissan Patrol Custom", s: "J-Imports", i: "" },
                { n: "22", t: "Fiat 500e", s: "Compact Kings", i: "" },
                { n: "32", t: "'18 Camaro SS", s: "Dream Garage", i: "" },
                { n: "37", t: "Ford F-150 Lightning", s: "Green Speed", i: "" },
                { n: "43", t: "Ford Ranger Raptor", s: "Hot Trucks", i: "" },
                { n: "50", t: "Limited Grip", s: "Rod Squad", i: "" },
                { n: "67", t: "BMW 507", s: "Roadsters", i: "" },
                { n: "69", t: "Mazda MX-5 Miata", s: "J-Imports", i: "" },
                { n: "70", t: "McLaren Solus GT", s: "HW Modified", i: "" },
                { n: "185", t: "Alfa Romeo GTV6 3.0", s: "Retro Racers", i: "" }
            ],
            "2023": [
                { n: "1", t: "Volvo P1800 Gasser", s: "Dream Garage", i: "https://static.wikia.nocookie.net/hotwheels/images/0/08/Volvo_P1800_Gasser_%28%2723_Mainline%29.jpg" },
                { n: "2", t: "'87 Ford Sierra Cosworth", s: "The 80s", i: "" },
                { n: "3", t: "Classic TV Batmobile", s: "Batman", i: "" },
                { n: "4", t: "Ford Escort RS2000", s: "Retro Racers", i: "" },
                { n: "10", t: "Raijin Express", s: "HW Haulers", i: "" },
                { n: "25", t: "'84 Mustang SVO", s: "The 80s", i: "" },
                { n: "46", t: "Nissan Z", s: "J-Imports", i: "" },
                { n: "60", t: "Bone Shaker", s: "Dream Garage", i: "" },
                { n: "63", t: "'68 COPO Camaro", s: "Art Cars", i: "" },
                { n: "84", t: "Lotus Evija", s: "Green Speed", i: "" },
                { n: "92", t: "LB Super Silhouette S15", s: "Modified", i: "" },
                { n: "134", t: "Renault Sport RS 01", s: "Exotics", i: "" },
                { n: "148", t: "'88 Honda CR-X", s: "J-Imports", i: "" },
                { n: "154", t: "Corvette Grand Sport", s: "Roadsters", i: "" },
                { n: "250", t: "McLaren Solus GT", s: "Exotics", i: "" }
            ]
        };

        // --- AYARLAR ---
        let currentYear = "2025";
        let filter = "all";
        let userColl = JSON.parse(localStorage.getItem("odhunWheels_coll")) || [];

        // --- BAŞLAT ---
        window.onload = () => {
            render();
            updateStats();
        };

        function setYear(y) {
            currentYear = y;
            document.querySelectorAll('.year-tab').forEach(b => b.classList.remove('active'));
            event.target.classList.add('active');
            render();
            updateStats();
        }

        function setFilter(f, btn) {
            filter = f;
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            render();
        }

        // --- RENDER ---
        function render() {
            const list = document.getElementById('list');
            const search = document.getElementById('search').value.toLowerCase();
            const data = db[currentYear] || [];

            // Liste Doluluğu Kontrolü: Eğer yıl listesi eksikse (250 değilse), sanal olarak doldur
            // Bu sadece demo için. Gerçekte 250 araçlık JSON girilmeli.
            // Ben burada var olanları gösteriyorum.
            
            list.innerHTML = "";

            data.forEach(car => {
                // ID Oluştur (Yıl-Numara)
                const carId = `${currentYear}-${car.n}`;
                const isOwned = userColl.includes(carId);

                // Filtreleme
                if (filter === 'owned' && !isOwned) return;
                if (filter === 'missing' && isOwned) return;
                if (search && !car.t.toLowerCase().includes(search) && !car.n.includes(search)) return;

                // Kart Oluştur
                const div = document.createElement('div');
                div.className = `car-card ${isOwned ? 'owned' : ''}`;
                div.onclick = () => toggleCar(carId);

                // Resim (Yoksa Placeholder)
                const imgUrl = car.i ? car.i : `https://via.placeholder.com/300x200/333/fff?text=${car.t.replace(/ /g,'+')}`;

                div.innerHTML = `
                    <div class="car-img-box">
                        <img src="${imgUrl}" class="car-img" loading="lazy">
                    </div>
                    <div class="car-details">
                        <div class="car-num">
                            <span>#${car.n}/250</span>
                            <span class="status-badge">${isOwned ? 'VAR' : 'YOK'}</span>
                        </div>
                        <div class="car-title">${car.t}</div>
                        <div class="car-series">${car.s}</div>
                    </div>
                `;
                list.appendChild(div);
            });

            if(list.innerHTML === "") list.innerHTML = `<div style="grid-column:1/-1; text-align:center; padding:40px; color:#666;">Araç bulunamadı.</div>`;
        }

        function toggleCar(id) {
            if(userColl.includes(id)) {
                userColl = userColl.filter(i => i !== id);
            } else {
                userColl.push(id);
            }
            localStorage.setItem("odhunWheels_coll", JSON.stringify(userColl));
            render();
            updateStats();
        }

        function updateStats() {
            // O yıla ait veritabanındaki toplam araç sayısı
            // (Normalde 250 olmalı ama şu an listede kaç tane varsa ona göre oranlıyorum ki bar dolsun)
            // İstersen 250'ye sabitleyebilirsin: const total = 250;
            const total = db[currentYear] ? db[currentYear].length : 0; 
            
            let owned = 0;
            if(db[currentYear]) {
                db[currentYear].forEach(c => {
                    if(userColl.includes(`${currentYear}-${c.n}`)) owned++;
                });
            }

            const percent = total === 0 ? 0 : Math.round((owned / total) * 100);
            
            document.getElementById('pBar').style.width = percent + "%";
            document.getElementById('pText').innerText = `${owned} / ${total} (%${percent})`;
        }

    </script>

</body>
</html>
